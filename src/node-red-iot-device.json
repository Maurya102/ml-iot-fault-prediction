[{
		"id": "da56e011.5fecd",
		"type": "debug",
		"z": "421022dc.de772c",
		"name": "Log Message to Screen",
		"active": true,
		"console": "false",
		"complete": "true",
		"x": 740,
		"y": 424,
		"wires": []
	}, {
		"id": "dddafd33.a71fb",
		"type": "azureiothub",
		"z": "421022dc.de772c",
		"name": "Azure IoT Hub",
		"protocol": "amqp",
		"x": 513,
		"y": 424,
		"wires": [["da56e011.5fecd"]]
	}, {
		"id": "513a7441.f54b2c",
		"type": "function",
		"z": "421022dc.de772c",
		"name": "Prep IoT Message",
		"func": "\nvar data = msg.payload\n\nmsg.payload = { \n    deviceId: \"madsen1\", \n    key: \"QPi4PYeKYOvwdH/nyWmEdUjdIXf6dR62Vtm8Tcvpy1k=\",\n    protocol: \"amqp\", \n    data: data };\n\nreturn msg;",
		"outputs": 1,
		"noerr": 0,
		"x": 305,
		"y": 425,
		"wires": [["dddafd33.a71fb"]]
	}, {
		"id": "f14cb9e1.2e96b8",
		"type": "fs-file-lister",
		"z": "421022dc.de772c",
		"name": "Get List of Data Files",
		"start": "datasample",
		"pattern": "*",
		"path": true,
		"single": true,
		"depth": 0,
		"stat": false,
		"x": 266,
		"y": 222,
		"wires": [["66ec680e.f989c8"]]
	}, {
		"id": "66ec680e.f989c8",
		"type": "function",
		"z": "421022dc.de772c",
		"name": "chooseRandomFile",
		"func": "\n\nitems = msg.payload;\n\nvar item = items[Math.floor(Math.random()*items.length)];\n//node.warn(item);\nmsg.filename = item;\nreturn msg;",
		"outputs": 1,
		"noerr": 0,
		"x": 482,
		"y": 220,
		"wires": [["5c5cbc35.28c924"]]
	}, {
		"id": "b9ee4e81.60048",
		"type": "inject",
		"z": "421022dc.de772c",
		"name": "Manual Data Trigger",
		"topic": "",
		"payload": "",
		"payloadType": "date",
		"repeat": "",
		"crontab": "",
		"once": false,
		"x": 263,
		"y": 136,
		"wires": [["f14cb9e1.2e96b8"]]
	}, {
		"id": "2fbe5feb.f52b1",
		"type": "csv",
		"z": "421022dc.de772c",
		"name": "Convert string to messages",
		"sep": ",",
		"hdrin": true,
		"hdrout": "",
		"multi": "one",
		"ret": "\\n",
		"temp": "",
		"x": 274.5,
		"y": 315,
		"wires": [["5851234f.3e789c"]]
	}, {
		"id": "5c5cbc35.28c924",
		"type": "file in",
		"z": "421022dc.de772c",
		"name": "LoadFileAsString",
		"filename": "",
		"format": "utf8",
		"x": 689.5,
		"y": 219,
		"wires": [["2fbe5feb.f52b1"]]
	}, {
		"id": "8faec4bc.4333c8",
		"type": "delay",
		"z": "421022dc.de772c",
		"name": "",
		"pauseType": "rate",
		"timeout": "1",
		"timeoutUnits": "seconds",
		"rate": "1",
		"nbRateUnits": "10",
		"rateUnits": "second",
		"randomFirst": "1",
		"randomLast": "5",
		"randomUnits": "seconds",
		"drop": false,
		"x": 742.5,
		"y": 317,
		"wires": [["513a7441.f54b2c"]]
	}, {
		"id": "5851234f.3e789c",
		"type": "function",
		"z": "421022dc.de772c",
		"name": "Add Run ID to message",
		"func": "\nvar str = msg.filename\nvar fname = str.split('\\\\').pop().split('/').pop()\nmsg.payload.batchID = fname\n\nreturn msg;",
		"outputs": 1,
		"noerr": 0,
		"x": 529,
		"y": 317,
		"wires": [["8faec4bc.4333c8"]]
	}
]